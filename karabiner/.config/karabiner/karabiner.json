{
    "global": {
        "check_for_updates_on_startup": false,
        "show_in_menu_bar": false
    },
    "profiles": [
        {
            "complex_modifications": {
                "rules": [
                    {
                        "description": "Caps as hyper",
                        "manipulators": [
                            {
                                "conditions": [
                                    {
                                        "bundle_identifiers": [
                                            "^com\\.apple\\.Terminal$",
                                            "^com\\.github\\.wez\\.wezterm$",
                                            "^com\\.mitchellh\\.ghostty$",
                                            "^org\\.alacritty$",
                                            "^info\\.sioyek\\.sioyek$",
                                            "^md\\.obsidian$",
                                            "^org\\.mozilla\\.firefox"
                                        ],
                                        "type": "frontmost_application_unless"
                                    }
                                ],
                                "from": { "key_code": "caps_lock" },
                                "to": {
                                    "key_code": "left_shift",
                                    "modifiers": ["left_control", "left_option", "left_command"]
                                },
                                "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Caps as control",
                        "manipulators": [
                            {
                                "conditions": [
                                    {
                                        "bundle_identifiers": [
                                            "^com\\.apple\\.Terminal$",
                                            "^com\\.github\\.wez\\.wezterm$",
                                            "^com\\.mitchellh\\.ghostty$",
                                            "^org\\.alacritty$",
                                            "^info\\.sioyek\\.sioyek$",
                                            "^md\\.obsidian$",
                                            "^org\\.mozilla\\.firefox"
                                        ],
                                        "type": "frontmost_application_if"
                                    },
                                    {
                                        "name": "control_as_hyper",
                                        "type": "variable_unless",
                                        "value": true
                                    }
                                ],
                                "from": { "key_code": "caps_lock" },
                                "to": { "key_code": "left_control" },
                                "type": "basic"
                            },
                            {
                                "conditions": [
                                    {
                                        "bundle_identifiers": [
                                            "^com\\.apple\\.Terminal$",
                                            "^com\\.github\\.wez\\.wezterm$",
                                            "^com\\.mitchellh\\.ghostty$",
                                            "^org\\.alacritty$",
                                            "^info\\.sioyek\\.sioyek$",
                                            "^md\\.obsidian$",
                                            "^org\\.mozilla\\.firefox"
                                        ],
                                        "type": "frontmost_application_if"
                                    },
                                    {
                                        "name": "control_as_hyper",
                                        "type": "variable_if",
                                        "value": true
                                    }
                                ],
                                "from": { "key_code": "caps_lock" },
                                "to": {
                                    "key_code": "left_shift",
                                    "modifiers": ["left_control", "left_option", "left_command"]
                                },
                                "type": "basic"
                            },
                            {
                                "conditions": [
                                    {
                                        "bundle_identifiers": [
                                            "^com\\.apple\\.Terminal$",
                                            "^com\\.github\\.wez\\.wezterm$",
                                            "^com\\.mitchellh\\.ghostty$",
                                            "^org\\.alacritty$",
                                            "^info\\.sioyek\\.sioyek$",
                                            "^md\\.obsidian$",
                                            "^org\\.mozilla\\.firefox"
                                        ],
                                        "type": "frontmost_application_if"
                                    },
                                    {
                                        "name": "control_as_hyper",
                                        "type": "variable_unless",
                                        "value": true
                                    }
                                ],
                                "from": {
                                    "key_code": "backslash",
                                    "modifiers": { "mandatory": "left_control" }
                                },
                                "parameters": { "basic.to_delayed_action_delay_milliseconds": 5000 },
                                "to": [
                                    {
                                        "set_variable": {
                                            "name": "control_as_hyper",
                                            "value": true
                                        }
                                    }
                                ],
                                "to_delayed_action": {
                                    "to_if_canceled": {
                                        "set_variable": {
                                            "name": "control_as_hyper",
                                            "value": false
                                        }
                                    },
                                    "to_if_invoked": {
                                        "set_variable": {
                                            "name": "control_as_hyper",
                                            "value": false
                                        }
                                    }
                                },
                                "type": "basic"
                            },
                            {
                                "conditions": [
                                    {
                                        "bundle_identifiers": [
                                            "^com\\.apple\\.Terminal$",
                                            "^com\\.github\\.wez\\.wezterm$",
                                            "^com\\.mitchellh\\.ghostty$",
                                            "^org\\.alacritty$",
                                            "^info\\.sioyek\\.sioyek$",
                                            "^md\\.obsidian$",
                                            "^org\\.mozilla\\.firefox"
                                        ],
                                        "type": "frontmost_application_if"
                                    },
                                    {
                                        "name": "control_as_hyper",
                                        "type": "variable_if",
                                        "value": true
                                    }
                                ],
                                "from": {
                                    "key_code": "backslash",
                                    "modifiers": { "mandatory": ["left_shift", "left_control", "left_option", "left_command"] }
                                },
                                "to": [
                                    {
                                        "set_variable": {
                                            "name": "control_as_hyper",
                                            "value": false
                                        }
                                    }
                                ],
                                "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Raycast: Seach files",
                        "manipulators": [
                            {
                                "from": {
                                    "modifiers": { "mandatory": ["left_shift", "left_control", "left_option", "left_command"] },
                                    "simultaneous": [
                                        { "key_code": "q" },
                                        { "key_code": "semicolon" }
                                    ],
                                    "simultaneous_options": { "key_down_order": "strict" }
                                },
                                "parameters": { "basic.simultaneous_threshold_milliseconds": 500 },
                                "to": { "shell_command": "open raycast://extensions/raycast/file-search/search-files" },
                                "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Raycast: Open clipboard history",
                        "manipulators": [
                            {
                                "from": {
                                    "modifiers": { "mandatory": ["left_shift", "left_control", "left_option", "left_command"] },
                                    "simultaneous": [
                                        { "key_code": "q" },
                                        { "key_code": "l" }
                                    ],
                                    "simultaneous_options": { "key_down_order": "strict" }
                                },
                                "parameters": { "basic.simultaneous_threshold_milliseconds": 500 },
                                "to": { "shell_command": "open raycast://extensions/raycast/clipboard-history/clipboard-history" },
                                "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Raycast: Kill process",
                        "manipulators": [
                            {
                                "from": {
                                    "modifiers": { "mandatory": ["left_shift", "left_control", "left_option", "left_command"] },
                                    "simultaneous": [
                                        { "key_code": "q" },
                                        { "key_code": "k" }
                                    ],
                                    "simultaneous_options": { "key_down_order": "strict" }
                                },
                                "parameters": { "basic.simultaneous_threshold_milliseconds": 500 },
                                "to": { "shell_command": "open raycast://extensions/rolandleth/kill-process/index" },
                                "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Raycast: Open dictionary",
                        "manipulators": [
                            {
                                "from": {
                                    "modifiers": { "mandatory": ["left_shift", "left_control", "left_option", "left_command"] },
                                    "simultaneous": [
                                        { "key_code": "q" },
                                        { "key_code": "w" }
                                    ],
                                    "simultaneous_options": { "key_down_order": "strict" }
                                },
                                "parameters": { "basic.simultaneous_threshold_milliseconds": 500 },
                                "to": { "shell_command": "open raycast://extensions/raycast/dictionary/define-word" },
                                "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Launch: Terminal",
                        "manipulators": [
                            {
                                "from": {
                                    "modifiers": { "mandatory": ["left_shift", "left_control", "left_option", "left_command"] },
                                    "simultaneous": [
                                        { "key_code": "p" },
                                        { "key_code": "x" }
                                    ],
                                    "simultaneous_options": { "key_down_order": "strict" }
                                },
                                "parameters": { "basic.simultaneous_threshold_milliseconds": 500 },
                                "to": { "shell_command": "open /Applications/Alacritty.app" },
                                "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Launch: Music",
                        "manipulators": [
                            {
                                "from": {
                                    "modifiers": { "mandatory": ["left_shift", "left_control", "left_option", "left_command"] },
                                    "simultaneous": [
                                        { "key_code": "p" },
                                        { "key_code": "m" }
                                    ],
                                    "simultaneous_options": { "key_down_order": "strict" }
                                },
                                "parameters": { "basic.simultaneous_threshold_milliseconds": 500 },
                                "to": { "shell_command": "open /System/Applications/Music.app" },
                                "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Launch: Browser",
                        "manipulators": [
                            {
                                "from": {
                                    "modifiers": { "mandatory": ["left_shift", "left_control", "left_option", "left_command"] },
                                    "simultaneous": [
                                        { "key_code": "p" },
                                        { "key_code": "w" }
                                    ],
                                    "simultaneous_options": { "key_down_order": "strict" }
                                },
                                "parameters": { "basic.simultaneous_threshold_milliseconds": 500 },
                                "to": { "shell_command": "export MOZ_DISABLE_SAFE_MODE_KEY=1; open /Applications/Firefox.app" },
                                "type": "basic"
                            }
                        ]
                    }
                ]
            },
            "devices": [
                {
                    "identifiers": {
                        "is_keyboard": true,
                        "product_id": 50484,
                        "vendor_id": 1133
                    },
                    "ignore": true
                }
            ],
            "name": "Default",
            "selected": true,
            "virtual_hid_keyboard": { "keyboard_type_v2": "ansi" }
        }
    ]
}